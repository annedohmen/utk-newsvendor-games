<!-- Inclusion template 'demandplanning/visualizations.html' -->

<br>
<br>

<!-- text-container-->
<div class="row border mb-4" id="text-container">
    <div class="card border">
        <div class="card-body">
            <p class="text-muted">* Anne: maybe add text here. *</p>
        </div>
    </div>

    <br>
</div>

{# <div class="d-none d-xl-block">hide on screens smaller than xl</div> #}

<!-- situational-info-container-->
<div class="row border mb-4" id="situational-info-container">
    <h4 class="mt-2">Situational Information:</h4>
    {# <h5 class="card-title">Situational Information:</h5> #}

    <!-- unit-costs-table -->
    <div class="col-6 my-2">
        <div class="card">
            <div class="card-body">
                <h6 class="card-title text-center">Unit costs</h6>
                <div class="table-responsive">
                    <table id="unit-costs-table">
                        <thead></thead>
                        <tbody>
                            <tr id="row-wcpu">
                                <th scope="row"><strong>Wholesale</strong></th>
                            </tr>
                            <tr id="row-rcpu">
                                <th scope="row"><strong>Retail</strong></th>
                            </tr>
                            <tr id="row-hcpu">
                                <th scope="row"><strong>Holding</strong></th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- distribution-curve -->
    <div class="col-6 my-2">
        <div class="card" id="distribution-card">
            <div class="card-body">
                <h6 class="card-title text-center">Market demand probability distribution</h6>
                <p id="distribution-curve-loading-message" style="font-size:0.8rem;"><br>&nbsp;Loading Demand Distribution...&nbsp;</p>
                <!-- Add a slider -->
                <!-- <input type="range" name="mySlider" id=mySlider min="10" max="100" value="50"> -->
                <div id="distribution-curve">
                </div>
            </div>
        </div>
    </div>

    <br>
</div>

<!-- results-list-container -->
<div class="row border mb-4" id="results-list-container">
    <div class="card border">
        <div class="card-body">
            <h5 class="card-title">Results</h5>
            <p>
                <ul>
                    <li>Demand was <strong id="results-du">{{ du }}</strong> units.</li>
                    <li>You ordered <strong id="results-ou">{{ ou }}</strong> units.</li>
                    <li>You will have <strong id="results-su">{{ su }}</strong> units in inventory next period.</li>
                    <li>You earned <strong id="results-profit">{{ profit }}</strong> in profit this round.</li>
                </ul>
            </p>

        </div>
    </div>
    <br>
</div>


<!-- final-results-container (each game has a table of results plus one "overall" table of results) -->
<div class="row border mb-4" id="final-results-container">
    <div class="card border">
        <div class="card-body" id="final-results-card">
            <h5 class="card-title">Final Results</h5>
        </div>
    </div>
    <br>
</div>


<!-- game-history-container -->
<div class="row border mb-4" id="game-history-container">
    <h4 class="mt-2">Game History Information:</h4>

    <!-- hist-quantities-barchart -->
    <div class="col-auto mb-4">
        <div class="card" id="hist-quantities-card">
            <div class="card-body">
                <h6 class="card-title text-center">Quantities ordered & demanded in prior periods</h6>
                <div id="hist-quantities-barchart"></div>
            </div>
        </div>
    </div>

    <br>

    <!-- hist-metrics-table -->
    <div class="col-auto">
        <div class="card">
            <div class="card-body">
                <h6 class="card-title text-center">Summary of key metrics of prior periods</h6>
                <div class="table-responsive">
                    <table id="hist-metrics-table">
                        <thead>
                            <tr>
                                <th scope="row">Period</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="row-stock">
                                <th scope="row" style="white-space: nowrap;"><strong>Starting inventory<br>(before order)</strong></th>
                            </tr>
                            <tr id="row-order">
                                <th scope="row" style="white-space: nowrap;"><strong>Order quantity</strong></th>
                            </tr>
                            <tr id="row-demand">
                                <th scope="row" style="white-space: nowrap;"><strong>Demand quantity<br>(realized)</strong></th>
                            </tr>
                            <tr id="row-profit">
                                <th scope="row" style="white-space: nowrap;"><strong>Profit</strong></th>
                            </tr>
                            <tr id="row-cprofit">
                                <th scope="row" style="white-space: nowrap;"><strong>Cumulative profit</strong></th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <br>
</div>

{# <!-- game-history-container -->
<div class="row border mb-4" id="game-history-container">
    <div class="card border">
        <div class="card-body">
            <h5 class="card-title">Game History Information</h5>

            <ol type="a">
                <!-- hist-quantities-barchart -->
                <li>Quantities ordered & demanded in prior periods:
                </li>
                <div class="col-auto">
                    <div class="card" id="hist-quantities-card">
                        <div class="card-body">
                            <div id="hist-quantities-barchart"></div>
                        </div>
                    </div>
                </div>

                <br>

                <!-- hist-metrics-table -->
                <li>Summary of key metrics in prior periods:
                </li>
                <div class="col-12 p-0 m-0">
                    <div class="card border-0">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table id="hist-metrics-table">
                                    <thead>
                                        <tr>
                                            <th scope="row">Period</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr id="row-stock">
                                            <th scope="row" style="white-space: nowrap;"><strong>Starting inventory<br>(before order)</strong></th>
                                        </tr>
                                        <tr id="row-order">
                                            <th scope="row" style="white-space: nowrap;"><strong>Order quantity</strong></th>
                                        </tr>
                                        <tr id="row-demand">
                                            <th scope="row" style="white-space: nowrap;"><strong>Demand quantity<br>(realized)</strong></th>
                                        </tr>
                                        <tr id="row-profit">
                                            <th scope="row" style="white-space: nowrap;"><strong>Profit</strong></th>
                                        </tr>
                                        <tr id="row-cprofit">
                                            <th scope="row" style="white-space: nowrap;"><strong>Cumulative profit</strong></th>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

            </ol>

        </div>
    </div>

    <br>
</div> #}



<div class="row border mb-4" id="decision-form-container">
    <div class="card border">
        <div class="card-body">
            <h5 class="card-title">Decision</h5>

            <p>
                Note: according to commercial forecasting software, the optimal order quantity for this period is <strong id="optimal-order-quantity">{{ ooq }}</strong>.
                {{ if page_name == 'Decide' }}
                    {{ formfield 'ou' label="How many units will you order?" }}
                {{ endif }}
            </p>

        </div>
    </div>
    <br>
</div>


